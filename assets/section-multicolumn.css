.multicolumn--border-top {
  border-top: 0.1rem solid rgba(var(--color-border));
}
.multicolumn--border-bottom {
  border-bottom: 0.1rem solid rgba(var(--color-border));
}
.multicolumn__link-overlay {
  display: block !important;
  position: absolute;
  inset: 0;
  z-index: 1;
}

.multicolumn-list {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.multicolumn-list__wrapper {
  display: grid;
  grid-template-columns: 1fr;
  box-sizing: border-box;
  width: 100%;
  gap: 4rem 3.2rem;
}
@media (min-width: 1200px) {
  .multicolumn-list__wrapper--left {
    gap: 4rem 11.2rem;
  }
}
@media (min-width: 1600px) {
  .multicolumn-list__wrapper--left {
    gap: 4rem 20rem;
  }
}
@media (min-width: 1200px) {
  .multicolumn-list__wrapper--left.multicolumn-list__wrapper--4 {
    gap: 4rem 6rem;
  }
}
.multicolumn-list__wrapper--1 {
  grid-template-columns: 1fr;
}
.multicolumn-list__wrapper--2 {
  grid-template-columns: 1fr;
}
@media (min-width: 750px) {
  .multicolumn-list__wrapper--2 {
    grid-template-columns: repeat(2, 1fr);
  }
}
.multicolumn-list__wrapper--3 {
  grid-template-columns: 1fr;
}
@media (min-width: 750px) {
  .multicolumn-list__wrapper--3 {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (min-width: 990px) {
  .multicolumn-list__wrapper--3 {
    grid-template-columns: repeat(3, 1fr);
  }
}
.multicolumn-list__wrapper--4 {
  grid-template-columns: 1fr;
}
@media (min-width: 750px) {
  .multicolumn-list__wrapper--4 {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (min-width: 990px) {
  .multicolumn-list__wrapper--4 {
    grid-template-columns: repeat(3, 1fr);
  }
}
@media (min-width: 1360px) {
  .multicolumn-list__wrapper--4 {
    grid-template-columns: repeat(4, 1fr);
  }
}
@media screen and (max-width: calc(750px - 1px)) {
  .multicolumn-list__wrapper--2-mobile:not(.multicolumn-list__wrapper--1) {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media screen and (max-width: 989px) {
  .swiper--multicolumn .multicolumn-list__wrapper {
    display: flex;
    grid-template-columns: none;
    gap: 0;
  }
  .swiper--multicolumn .multicolumn-list__wrapper .multicolumn-card:not(:first-child)::before {
    content: "";
    position: absolute;
    display: none;
    height: 100%;
    width: 0.1rem;
    background: rgb(var(--color-border));
    top: 0;
    left: -1.6rem;
  }
}
@media screen and (max-width: 989px) and (min-width: 750px) {
  .swiper--multicolumn .multicolumn-list__wrapper .multicolumn-card:not(:first-child)::before {
    display: block;
  }
}
.multicolumn-list.swiper-initialized .multicolumn-list__item {
  width: 100%;
  box-sizing: border-box;
}

.multicolumn-card {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  gap: 2rem;
  height: auto;
  width: 100%;
  padding: 0;
  background-color: transparent;
  border-radius: var(--border-radius-main);
}
.multicolumn-card--center {
  align-items: center;
  text-align: center;
  padding: 0 1rem;
}
@media (min-width: 990px) {
  .multicolumn-card--center {
    padding: 0 2rem;
  }
}
@media (min-width: 1600px) {
  .multicolumn-card--center {
    padding: 0 3.6rem;
  }
}
.multicolumn-card--left {
  align-items: flex-start;
  text-align: left;
}
.multicolumn-card:not(:first-child)::before {
  content: "";
  position: absolute;
  display: block;
  width: 100%;
  height: 0.1rem;
  background: rgb(var(--color-border));
  top: -2rem;
}
@media (min-width: 750px) {
  .multicolumn-card:not(:first-child)::before {
    content: "";
    position: absolute;
    display: block;
    height: 100%;
    width: 0.1rem;
    background: rgb(var(--color-border));
    top: 0;
    left: -1.6rem;
  }
}
@media (min-width: 1200px) {
  .multicolumn-card--left:not(:first-child)::before {
    left: -5.6rem;
  }
}
@media (min-width: 1600px) {
  .multicolumn-card--left:not(:first-child)::before {
    left: -10rem;
  }
}
.multicolumn-list__wrapper--1 .multicolumn-card {
  max-width: 65rem;
  margin: 0 auto;
}
.multicolumn-list__wrapper--1 .multicolumn-card:not(:first-child)::before {
  content: "";
  position: absolute;
  display: block;
  width: 100%;
  height: 0.1rem;
  background: rgb(var(--color-border));
  top: -2rem;
}
@media (min-width: 750px) {
  .multicolumn-list__wrapper--2 .multicolumn-card:not(:nth-child(2n+1))::before {
    display: block;
  }
  .multicolumn-list__wrapper--2 .multicolumn-card:nth-child(2n+1)::before {
    display: none;
  }
}
@media (min-width: 750px) {
  .multicolumn-list__wrapper--3 .multicolumn-card:not(:nth-child(2n+1))::before {
    display: block;
  }
  .multicolumn-list__wrapper--3 .multicolumn-card:nth-child(2n+1)::before {
    display: none;
  }
}
@media (min-width: 990px) {
  .multicolumn-list__wrapper--3 .multicolumn-card:not(:nth-child(3n+4))::before {
    display: block;
  }
  .multicolumn-list__wrapper--3 .multicolumn-card:nth-child(3n+4)::before {
    display: none;
  }
}
@media (min-width: 1200px) {
  .multicolumn-list__wrapper--4 .multicolumn-card--left:not(:first-child)::before {
    left: -3rem;
  }
}
@media (min-width: 750px) {
  .multicolumn-list__wrapper--4 .multicolumn-card:not(:nth-child(2n+1))::before {
    display: block;
  }
  .multicolumn-list__wrapper--4 .multicolumn-card:nth-child(2n+1)::before {
    display: none;
  }
}
@media (min-width: 990px) {
  .multicolumn-list__wrapper--4 .multicolumn-card:not(:nth-child(3n+4))::before {
    display: block;
  }
  .multicolumn-list__wrapper--4 .multicolumn-card:nth-child(3n+4)::before {
    display: none;
  }
}
@media (min-width: 1360px) {
  .multicolumn-list__wrapper--4 .multicolumn-card:not(:nth-child(4n+1))::before {
    display: block;
  }
  .multicolumn-list__wrapper--4 .multicolumn-card:nth-child(4n+1)::before {
    display: none;
  }
}
.multicolumn-card.swiper-slide {
  width: auto;
}
.multicolumn-card__info {
  display: flex;
  flex-direction: column;
  width: 100%;
}
.multicolumn-card--center .multicolumn-card__info {
  align-items: center;
  justify-content: center;
}
.multicolumn-card--left .multicolumn-card__info {
  align-items: flex-start;
  justify-content: flex-end;
}
.multicolumn-card__heading:last-child, .multicolumn-card__heading:only-child, .multicolumn-card__text:last-child, .multicolumn-card__text:only-child {
  margin: 0;
}
.multicolumn-card__heading {
  margin: 0 0 0.6rem;
  overflow-wrap: anywhere;
}
.multicolumn-card__text {
  margin: 0;
  color: rgb(var(--color-foreground-secondary));
  word-break: break-word;
}
.multicolumn-card__text p {
  margin: 0;
  color: rgb(var(--color-foreground-secondary));
}
.multicolumn-card__text a {
  position: relative;
  z-index: 3;
}
.multicolumn-card__button {
  /* margin-top: auto; */
}
.multicolumn-card__image-wrapper {
  border-radius: var(--border-radius-main);
  overflow: hidden;
}
.multicolumn-card--left .multicolumn-card__image-wrapper--extra_small + .multicolumn-card__info {
  margin-top: 4rem;
}
.multicolumn-card__image-wrapper--extra_small {
  width: 4.8rem;
  max-width: 4.8rem;
  display: flex;
  align-items: center;
  justify-content: center;
}
.multicolumn-card__image-wrapper--extra_small > svg.icon-pack {
  color: rgb(var(--color-button));
}
.multicolumn-card__image-wrapper--small {
  width: 30%;
}
.multicolumn-card__image-wrapper--medium {
  width: 50%;
}
.multicolumn-card__image-wrapper--large {
  width: 100%;
}
.multicolumn-card__image-wrapper img {
  display: block;
  width: 100%;
  height: 100%;
  transition: transform var(--duration-long);
  transform-origin: 50% 50%;
}
.multicolumn-card__image-wrapper img:only-child {
  display: block !important;
}

@media (prefers-color-scheme: light) {
  .multicolumn-card__image-wrapper img:first-child {
    display: block;
  }
  .multicolumn-card__image-wrapper img:last-child {
    display: none;
  }
  .multicolumn-card__image-wrapper img:only-child {
    display: block;
  }
}
@media (prefers-color-scheme: dark) {
  .multicolumn-card__image-wrapper img:first-child {
    display: none;
  }
  .multicolumn-card__image-wrapper img:last-child {
    display: block;
  }
  .multicolumn-card__image-wrapper img:only-child {
    display: block;
  }
}
[data-scheme=light] .multicolumn-card__image-wrapper img:first-child {
  display: block;
}
[data-scheme=light] .multicolumn-card__image-wrapper img:last-child {
  display: none;
}
[data-scheme=light] .multicolumn-card__image-wrapper img:only-child {
  display: block;
}

[data-scheme=dark] .multicolumn-card__image-wrapper img:first-child {
  display: none;
}
[data-scheme=dark] .multicolumn-card__image-wrapper img:last-child {
  display: block;
}
[data-scheme=dark] .multicolumn-card__image-wrapper img:only-child {
  display: block;
}

/* ========================================
   CSS SUBGRID IMPLEMENTATION
   ======================================== */

/* Phase 1: Feature Detection & Base Structure */
@supports (grid-template-rows: subgrid) {
  /* Apply subgrid only when NOT using swiper */
  .multicolumn-list:not(.swiper) .multicolumn-list__wrapper {
    grid-template-rows: auto auto auto; /* image/icon, info, button */
  }

  /* Subgrid implementation for cards */
  .multicolumn-list:not(.swiper) .multicolumn-card {
    display: grid;
    grid-template-rows: subgrid;
    grid-row: span 3;
    gap: 2rem; /* Maintain existing gap */
  }

  /* Phase 2: Content Area Positioning */

  /* Image/Icon area (conditional) */
  .multicolumn-list:not(.swiper) .multicolumn-card__image-wrapper {
    grid-row: 1;
    justify-self: center; /* Horizontally center image/icon within grid area */
    /* Maintain existing size and alignment styles */
  }

  /* Info wrapper contains both heading and text */
  .multicolumn-list:not(.swiper) .multicolumn-card__info {
    grid-row: 2;
    display: flex;
    flex-direction: column;
    gap: 0.6rem; /* Maintain existing heading margin */
    align-self: start; /* Align info content to top of grid area */
  }

  /* Button area (conditional) */
  .multicolumn-list:not(.swiper) .multicolumn-card__button {
    grid-row: 3;
    align-self: start; /* Align all buttons to top of their grid area */
    justify-self: start; /* For left alignment */
  }

  .multicolumn-list:not(.swiper) .multicolumn-card--center .multicolumn-card__button {
    justify-self: center; /* For center alignment */
  }

  /* Phase 3: Conditional Content Handling */

  /* When no image/icon, adjust grid structure */
  .multicolumn-list:not(.swiper) .multicolumn-card:not(:has(.multicolumn-card__image-wrapper)) {
    grid-row: span 2; /* Only info and button */
  }

  .multicolumn-list:not(.swiper) .multicolumn-card:not(:has(.multicolumn-card__image-wrapper)) .multicolumn-card__info {
    grid-row: 1;
  }

  .multicolumn-list:not(.swiper) .multicolumn-card:not(:has(.multicolumn-card__image-wrapper)) .multicolumn-card__button {
    grid-row: 2;
  }

  /* When no button, let info area expand */
  .multicolumn-list:not(.swiper) .multicolumn-card:not(:has(.multicolumn-card__button)) .multicolumn-card__info {
    grid-row: 2 / -1; /* Span remaining rows */
  }

  /* Fallback for browsers that don't support :has() */
  @supports not selector(:has(*)) {
    /* Reset to standard 3-row structure for all cards */
    .multicolumn-list:not(.swiper) .multicolumn-card {
      grid-row: span 3;
    }

    .multicolumn-list:not(.swiper) .multicolumn-card__image-wrapper {
      grid-row: 1;
    }

    .multicolumn-list:not(.swiper) .multicolumn-card__info {
      grid-row: 2;
    }

    .multicolumn-list:not(.swiper) .multicolumn-card__button {
      grid-row: 3;
    }
  }
}

/* Fallback for browsers that don't support subgrid */
@supports not (grid-template-rows: subgrid) {
  /* Maintain current flexbox implementation */
  .multicolumn-card {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  /* Ensure image/icon is horizontally centered for consistency */
  .multicolumn-card__image-wrapper {
    align-self: center; /* Horizontally center image/icon in flexbox layout */
  }

  /* Ensure info content aligns to top for consistency */
  .multicolumn-card__info {
    align-self: start; /* Align info content to top for consistency with subgrid */
  }

  /* Re-enable margin-top auto for button alignment */
  .multicolumn-card__button {
    margin-top: auto;
  }
}

/* Maintain flexbox for swiper mode regardless of subgrid support */
.multicolumn-list.swiper .multicolumn-card {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.multicolumn-list.swiper .multicolumn-card__image-wrapper {
  align-self: center; /* Horizontally center image/icon in swiper mode */
}

.multicolumn-list.swiper .multicolumn-card__info {
  align-self: start; /* Consistent top alignment in swiper mode */
}

.multicolumn-list.swiper .multicolumn-card__button {
  margin-top: auto;
}